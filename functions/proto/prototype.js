const charsLines = ({
    a: ["       ", "  __ _ ", " / _` |", "| (_| |", " \\__,_|", "       "],
    b: [" _     ", "| |__  ", "| '_ \\ ", "| |_) |", "|_.__/ ", "       "],
    c: ["      ", "  ___ ", " / __|", "|  (_ ", " \\___|", "      "],
    d: ["     _ ", "  __| |", " / _` |", "| (_| |", " \\__,_|", "       "],
    e: ["      ", "  ___ ", " / _ \\", "|  __/", " \\___|", "      "],
    f: ["  __ ", " / _|", "| |_ ", "|  _|", "|_|  ", "     "],
    g: ["       ", "  __ _ ", " / _` |", "| (_| |", " \\__, |", " |___/ "],
    h: [" _     ", "| |__  ", "| '_ \\ ", "| | | |", "|_| |_|", "       "],
    i: [" _ ", "(_)", "| |", "| |", "|_|", "   "],
    j: ["   _ ", "  (_)", "  | |", "  | |", " _/ |", "|__/ "],
    k: [" _    ", "| | __", "| |/ /", "|   < ", "|_|\\_\\", "      "],
    l: [" _ ", "| |", "| |", "| |", "|_|", "   "],
    m: ["           ", " _ __ ___  ", "| '_ ` _ \\ ", "| | | | | |", "|_| |_| |_|", "           "],
    n: ["       ", " _ __  ", "| '_ \\ ", "| | | |", "|_| |_|", "       "],
    o: ["       ", "  ___  ", " / _ \\ ", "| (_) |", " \\___/ ", "       "],
    p: ["       ", " _ __  ", "| '_ \\ ", "| |_) |", "| .__/ ", "|_|    "],
    q: ["       ", "  __ _ ", " / _` |", "| (_| |", " \\__, |", "    |_|"],
    r: ["      ", " _ __ ", "| '__|", "| |   ", "|_|   ", "      "],
    s: ["     ", " ___ ", "/ __|", "\\__ \\", "|___/", "     "],
    t: [" _   ", "| |_ ", "| __|", "| |_ ", " \\__|", "     "],
    u: ["       ", " _   _ ", "| | | |", "| |_| |", " \\__,_|", "       "],
    v: ["       ", "__   __", "\\ \\ / /", " \\ V / ", "  \\_/  ", "       "],
    w: ["          ", "__      __", "\\ \\ /\\ / /", " \\ V  V / ", "  \\_/\\_/  ", "          "],
    x: ["      ", "__  __", "\\ \\/ /", " >  < ", "/_/\\_\\", "      "],
    y: ["       ", " _   _ ", "| | | |", "| |_| |", " \\__, /", " |___/ "],
    z: ["     ", " ____", "|_  /", " / / ", "/___|", "     "],
    A: ["    _    ", "   / \\   ", "  / _ \\  ", " / ___ \\ ", "/_/   \\_\\", "         "],
    B: [" ____  ", "| __ ) ", "|  _ \\ ", "| |_) |", "|____/ ", "       "],
    C: ["  ____ ", " / ___|", "| |    ", "| |___ ", " \\____|", "       "],
    D: [" ____  ", "|  _ \\ ", "| | | |", "| |_| |", "|____/ ", "       "],
    E: [" _____ ", "| ____|", "|  _|  ", "| |___ ", "|_____|", "       "],
    F: [" _____ ", "|  ___|", "| |_   ", "|  _|  ", "|_|    ", "       "],
    G: ["  ____ ", " / ___|", "| |  _ ", "| |_| |", " \\____|", "       "],
    H: [" _   _ ", "| | | |", "| |_| |", "|  _  |", "|_| |_|", "       "],
    I: [" ___ ", "|_ _|", " | | ", " | | ", "|___|", "     "],
    J: ["     _ ", "    | |", " _  | |", "| |_| |", " \\___/ ", "       "],
    K: [" _  __", "| |/ /", "| ' / ", "| . \\ ", "|_|\\_\\", "      "],
    L: [" _     ", "| |    ", "| |    ", "| |___ ", "|_____|", "       "],
    M: [" __  __ ", "|  \\/  |", "| |\\/| |", "| |  | |", "|_|  |_|", "        "],
    N: [" _   _ ", "| \\ | |", "|  \\| |", "| |\\  |", "|_| \\_|", "       "],
    O: ["  ___  ", " / _ \\ ", "| | | |", "| |_| |", " \\___/ ", "       "],
    P: [" ____  ", "|  _ \\ ", "| |_) |", "|  __/ ", "|_|    ", "       "],
    Q: ["  ___  ", " / _ \\ ", "| | | |", "| |_| |", " \\__\\_\\", "       "],
    R: [" ____  ", "|  _ \\ ", "| |_) |", "|  _ < ", "|_| \\_\\", "       "],
    S: [" ____  ", "/ ___| ", "\\___ \\ ", " ___) |", "|____/ ", "       "],
    T: [" _____ ", "|_   _|", "  | |  ", "  | |  ", "  |_|  ", "       "],
    U: [" _   _ ", "| | | |", "| | | |", "| |_| |", " \\___/ ", "       "],
    V: ["__     __", "\\ \\   / /", " \\ \\ / / ", "  \\ V /  ", "   \\_/   ", "         "],
    W: ["__        __", "\\ \\      / /", " \\ \\ /\\ / / ", "  \\ V  V /  ", "   \\_/\\_/   ", "            "],
    X: ["__  __", "\\ \\/ /", " \\  / ", " /  \\ ", "/_/\\_\\", "      "],
    Y: ["__   __", "\\ \\ / /", " \\ V / ", "  | |  ", "  |_|  ", "       "],
    Z: [" _____", "/__  /", "  / / ", " / /_ ", "/____|", "      "],
    0: ["  ___  ", " / _ \\ ", "| | | |", "| |_| |", " \\___/ ", "       "],
    1: ["  __ ", " /_ |", "  | |", "  | |", "  |_|", "    "],
    2: [" ____  ", "|___ \\ ", "  __) |", " / __/ ", "|_____|", "       "],
    3: [" _____ ", "|___ / ", "  |_ \\ ", " ___) |", "|____/ ", "       "],
    4: [" _  _   ", "| || |  ", "| || |_ ", "|__   _|", "   |_|  ", "        "],
    5: [" ____  ", "| ___| ", "|___ \\ ", " ___) |", "|____/ ", "       "],
    6: ["  __   ", " / /_  ", "| '_ \\ ", "| (_) |", " \\___/ ", "       "],
    7: [" _____ ", "|___  |", "   / / ", "  / /  ", " /_/   ", "       "],
    8: ["  ___  ", " ( _ ) ", " / _ \\ ", "| (_) |", " \\___/ ", "       "],
    9: ["  ___  ", " / _ \\ ", "| (_) |", " \\__, |", "   /_/ ", "       "],
    " ": ["    ", "    ", "    ", "    ", "    ", "    "],
    ".": ["     ", "     ", "     ", "  _  ", " (_) ", "     "],
    "-": ["       ", "       ", " _____ ", "|_____|", "       ", "       "],
    "_": ["       ", "       ", "       ", "       ", " _____ ", "|_____|"],
    "/": ["    __", "   / /", "  / / ", " / /  ", "/_/   ", "      "],
    "\\": ["__    ", "\\ \\   ", " \\ \\  ", "  \\ \\ ", "   \\_\\", "      "],
    ":": ["     ", "  _  ", " (_) ", "  _  ", " (_) ", "     "],
    ",": ["     ", "     ", "     ", "  _  ", " ( ) ", " |/  "],
    ";": ["     ", "  _  ", " (_) ", "  _  ", " ( ) ", " |/  "],
    "!": [" _ ", "| |", "| |", "|_|", "(_)", "   "],
    "?": [" ___ ", "|__ \\", " / / ", " |_| ", " (_) ", "     "],
    "|": [" _ ", "| |", "| |", "| |", "| |", "|_|"],
    "&": ["  ___   ", " ( _ )  ", " / _ \\/\\", "| (_>  <", " \\___/\\/", "        "],
    "*": [" \\|/", " /|\\", "    ", "    ", "    ", "    "],
    "[": [" __ ", "| _|", "| | ", "| | ", "| | ", "|__|"],
    "]": [" __ ", "|_ |", " | |", " | |", " | |", "|__|"],
    "(": ["  __", " / /", "| | ", "| | ", "| | ", " \\_\\"],
    ")": ["__  ", " \\ \\", " | |", " | |", " | |", "/_/ "],
    "{": ["   __", "  / /", " | | ", "< <  ", " | | ", "  \\_\\"],
    "}": ["__   ", "  \\ \\", " | | ", " > > ", " | | ", "/_/  "],
    "+": ["       ", "   _   ", " _| |_ ", "|_   _|", "  |_|  ", "       "],
    "°": [" __ ", "/__\\", "\\__/", "    ", "    ", "    "],
    "%": [" _  __", "(_)/ /", "  / / ", " / /_ ", "/_/(_)", "      "],
    ù: ["  __   ", " _\\_\\_ ", "| | | |", "| |_| |", " \\__,_|", "       "],
    é: ["   __ ", "  /_/ ", " / _ \\", "|  __/", " \\___|", "      "],
    è: ["  __  ", "  \\_\\ ", " / _ \\", "|  __/", " \\___|", "      "],
    à: ["  __   ", "  \\_\\_ ", " / _` |", "| (_| |", " \\__,_|", "       "],
    È: ["  __   ", " _\\_\\_ ", "| ____|", "|  _|_ ", "|_____|", "       "],
    À: ["  __   ", "  \\_\\  ", "  /_\\  ", " / _ \\ ", "/_/ \\_\\", "       "],
    Ù: ["  __   ", " _\__\\_ ", "| | | |", "| _ | |", " \\___/ ", "       "],
    $: ["  _  ", " | | ", "/ __)", "\\__ \\", "(   /", " |_| "],
    "£": ["   ___  ", "  / ,_\\ ", "_| |_   ", " | |___ ", "(_,____|", "        "],
    "§": ["   __  ", " _/ _) ", "/  _ \\ ", "\\ \\_\\ \\", " \\  __/", "(__/   "],
    "¤ ": ["/\\___/\\", "\\  _  /", "| (_) |", "/ ___ \\", "\\/   \\/", "       "],
    "µ": ["       ", " _   _ ", "| | | |", "| |_| |", "| ._,_|", "|_|    "],
    "#": ["   _  _   ", " _| || |_ ", "|_  __  _|", "|_  ‾‾  _|", "  |_||_|  ", "          "],
    "~": ["      ", "      ", " /‾\\/‾|", "|_/\\_/", "      ", "      "],
    "'": ["  _ ", " ( )", " |/ ", "    ", "    ", "    "],
    '"': ["  _ _ ", " ( | )", "  V V ", "      ", "      ", "      "],
    "`": ["  _ ", " ( )", "  \\|", "    ", "    ", "    "],
    "¨": [" _  _ ", "(_)(_)", "      ", "      ", "      ", "      "],
    "^": [" /‾‾\\ ", "|_/\\_|", "      ", "      ", "      ", "      "],
    "@": ["   ____  ", "  / __ \\ ", " / / _` |", "| | (_| |", " \\ \\__,_|", "  \\____/ "],
    ç: ["      ", "  ___ ", " / __|", "| (__ ", " \\___|", "  )_) "],
    "²": [" ___ ", "|_  )", " / / ", "/___|", "     ", "     "],
    "€": ["    ___", "   / __|", " _| |__ ", " _| |__ ", "  | |__ ", "   \___|"]
})
const Discord = require("discord.js")

module.exports = [
    Discord.GuildMemberManager.prototype.selectMember = function (args, options = { fetch: false, bot: false }) {
            if (!args || typeof args !== "string" || typeof options !== "object" || Array.isArray(options)) throw new Error("Invalids arguments was provided, i can't search a member with that.")
            if (options.fetch) return this.cache.find(user => (options.bot ? true : !user.user.bot) && ( user.id == args.replace(/\D+/g, '') || user.user.username.toLowerCase().includes(args.toLowerCase()) || user.displayName.toLowerCase().includes(args.toLowerCase()) ) ) || client.users.fetch(args).catch(() => undefined)
            else return this.cache.find(user => (options.bot ? true : !user.user.bot) && ( user.id == args.replace(/\D+/g, '') || user.user.username.toLowerCase().includes(args.toLowerCase()) || user.displayName.toLowerCase().includes(args.toLowerCase()) ) )
    },

    Array.prototype.splitArray = function(n) {
        if (typeof this !== "object" || typeof n !== "number") throw new Error(typeof this !== "object" ? "This prototype is only for Array" : "The arguments for separation must be a number") 
        const arr = this
        const chunk = (arr, n) => arr.length ? [arr.slice(0, n), ...chunk(arr.slice(n), n)] : [] ; 
        if (this.length <= n) { var b = this } else { var b = chunk(arr,n) }
        return b
    },
    String.prototype.toASCII = function() {
        const res = ['', '', '', '', '', ''],
        copy = this.split('').filter(c => charsLines[c])
        for (let e = 0; e < copy.length; e++) charsLines[copy[e]].forEach((l, i) => res[i] = res[i].slice(0, res[i].length - ([" ", "_"].some(char => res[i].endsWith(char)) && !l.startsWith(" ") ? 1 : 0)) + l.slice([" ", "_"].some(char => res[i].endsWith(char)) && !l.startsWith(" ") || e == 0 ? 0 : 1))
        return res
    }, 
    Number.prototype.shortNumber = function() {
        const tab = ['y', 'z', 'e', 'p', 't', 'g', 'm', 'k']
        for (let i = 24, y = 0; i > 0; i -= 3, y++) if (this >= 10 ** i) return (this / 10 ** i).toFixed((this / 10 ** i).toFixed(1).toString().includes('.0') ? 0 : 1) + tab[y].toUpperCase()
        return this
      },
      Array.prototype.align = function align(...data){
        var re = `\\${data[0]}([^${data[1]}]+)\\)(?!.*[()])`
        var ne = new RegExp(re, "gm")
        var max = this.sort((a,b)=> b.length - a.length)[0]
        var tt = max.match(ne) === null ? undefined : max.match(ne)[0]
    
        if(tt === undefined) throw Error("no match in longer value with " + data)
    
        if(data[2] === 2) return this.map(t=>{
            var y = t.match(ne) === null ? undefined : t.match(ne)[0]
            t = t.replace(y, "")
            max = max.replace(tt, "");
            if(t.length >= max.length) return t +y 
            
            var toadd = max.length - t.length
            if(y === undefined) return t
            t = t.replace(ne, "")
            t= t+" ".repeat(toadd)
            return t+y
        })
        return this.map(t=>{
            var y = t.match(ne) === null ? undefined : t.match(ne)[0]
            if(t.length >= max.length) return t
            
            var toadd = max.length - t.length
            if(y === undefined) return t
            t = t.replace(ne, "")
            t= t+" ".repeat(toadd)
            return t+y
        })
    
    }
]